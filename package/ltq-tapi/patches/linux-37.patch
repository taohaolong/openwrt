--- a/src/drv_tapi_linux.c
+++ b/src/drv_tapi_linux.c
@@ -213,7 +213,7 @@
    IFX_char_t   *pRegDrvName = IFX_NULL;
    IFX_int32_t ret = 0;
 
-   if (tapi_fops.ioctl == IFX_NULL)
+   if (tapi_fops.unlocked_ioctl == IFX_NULL)
    {
 #ifdef MODULE
       tapi_fops.owner =    THIS_MODULE;
@@ -221,7 +221,7 @@
       tapi_fops.read =     ifx_tapi_read;
       tapi_fops.write =    ifx_tapi_write;
       tapi_fops.poll =     ifx_tapi_poll;
-      tapi_fops.ioctl =    ifx_tapi_ioctl;
+      tapi_fops.unlocked_ioctl =    ifx_tapi_ioctl;
       tapi_fops.open =     ifx_tapi_open;
       tapi_fops.release =  ifx_tapi_release;
    }
--- a/src/lib/lib_fifo/lib_fifo.c
+++ b/src/lib/lib_fifo/lib_fifo.c
@@ -41,7 +41,7 @@
 #ifdef LINUX
 /* if linux/slab.h is not available, use the precessor linux/malloc.h */
 #include <linux/slab.h>
-#elif VXWORKS
+#elif defined(VXWORKS)
 #include <sys_drv_debug.h>
 #endif /* LINUX */
 
