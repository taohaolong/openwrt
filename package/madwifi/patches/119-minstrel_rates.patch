Index: madwifi-ng-r2525-20070630/ath_rate/minstrel/minstrel.c
===================================================================
--- madwifi-ng-r2525-20070630.orig/ath_rate/minstrel/minstrel.c	2007-07-03 23:02:28.825845250 +0200
+++ madwifi-ng-r2525-20070630/ath_rate/minstrel/minstrel.c	2007-07-03 23:02:30.209931750 +0200
@@ -359,6 +359,8 @@
 					if (sn->rs_sampleColumn >= MINSTREL_COLUMNS)
 						sn->rs_sampleColumn = 0;
 				}
+				if (ndx < sn->max_prob_rate - 2)
+					ndx = sn->max_tp_rate;
 			} else
 				ndx = sn->max_tp_rate;
 		 }
