diff -urN madwifi-ng-refcount-r2313-20070505.old/net80211/ieee80211_node.c madwifi-ng-refcount-r2313-20070505.dev/net80211/ieee80211_node.c
--- madwifi-ng-refcount-r2313-20070505.old/net80211/ieee80211_node.c	2007-05-13 18:17:56.107039472 +0200
+++ madwifi-ng-refcount-r2313-20070505.dev/net80211/ieee80211_node.c	2007-05-13 18:17:56.202025032 +0200
@@ -919,6 +919,7 @@
 
 		ni->ni_vap = vap;
 		ni->ni_ic = ic;
+		ni->ni_rates = ic->ic_sup_rates[ieee80211_chan2mode(ic->ic_curchan)];
 	} else {
 		/* XXX msg */
 		vap->iv_stats.is_rx_nodealloc++;
