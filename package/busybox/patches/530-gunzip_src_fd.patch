diff -Naur a/archival/libunarchive/decompress_unzip.c b/archival/libunarchive/decompress_unzip.c
--- a/archival/libunarchive/decompress_unzip.c	2007-11-10 02:40:48.000000000 +0100
+++ b/archival/libunarchive/decompress_unzip.c	2007-11-12 02:34:43.000000000 +0100
@@ -1178,6 +1178,7 @@
 	ALLOC_STATE;
 	bytebuffer_max = 0x8000;
 	bytebuffer = xmalloc(bytebuffer_max);
+	gunzip_src_fd = in;
 
  again:
 	if (!check_header_gzip(PASS_STATE_ONLY)) {
