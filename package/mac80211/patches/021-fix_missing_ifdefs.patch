--- a/compat/compat-2.6.33.c
+++ b/compat/compat-2.6.33.c
@@ -12,6 +12,7 @@
 
 #if (LINUX_VERSION_CODE < KERNEL_VERSION(2,6,33))
 
+#ifdef CONFIG_PCCARD
 
 /**
  * pccard_loop_tuple() - loop over tuples in the CIS
@@ -125,6 +126,7 @@ int pcmcia_loop_tuple(struct pcmcia_devi
 EXPORT_SYMBOL(pcmcia_loop_tuple);
 /* Source: drivers/pcmcia/pcmcia_resource.c */
 
+#endif
 
 #endif /* (LINUX_VERSION_CODE < KERNEL_VERSION(2,6,33)) */
 
