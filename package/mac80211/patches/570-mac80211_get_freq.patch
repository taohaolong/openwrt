--- a/net/mac80211/cfg.c
+++ b/net/mac80211/cfg.c
@@ -1154,6 +1154,18 @@ static int ieee80211_set_txq_params(stru
 	return 0;
 }
 
+static int ieee80211_get_oper_channel(struct wiphy *wiphy,
+				 struct ieee80211_channel **chan,
+				 enum nl80211_channel_type *channel_type)
+{
+	struct ieee80211_local *local = wiphy_priv(wiphy);
+
+	*chan = local->oper_channel;
+	*channel_type = local->oper_channel_type;
+
+	return 0;
+}
+
 static int ieee80211_set_channel(struct wiphy *wiphy,
 				 struct ieee80211_channel *chan,
 				 enum nl80211_channel_type channel_type)
@@ -1494,6 +1506,7 @@ struct cfg80211_ops mac80211_config_ops 
 #endif
 	.change_bss = ieee80211_change_bss,
 	.set_txq_params = ieee80211_set_txq_params,
+	.get_channel = ieee80211_get_oper_channel,
 	.set_channel = ieee80211_set_channel,
 	.suspend = ieee80211_suspend,
 	.resume = ieee80211_resume,
