---
 net/mac80211/ieee80211_ioctl.c |    6 ++++++
 1 file changed, 6 insertions(+)

--- everything.orig/net/mac80211/ieee80211_ioctl.c	2007-11-07 13:19:33.681513453 +0100
+++ everything/net/mac80211/ieee80211_ioctl.c	2007-11-07 13:19:35.171517576 +0100
@@ -984,6 +984,9 @@ static int ieee80211_ioctl_prism2_param(
 	local = sdata->local;
 
 	switch (param) {
+	case PRISM2_PARAM_EAPOL:
+		sdata->eapol = value;
+		break;
 	case PRISM2_PARAM_IEEE_802_1X:
 		sdata->ieee802_1x = value;
 		break;
@@ -1022,6 +1025,9 @@ static int ieee80211_ioctl_get_prism2_pa
 	local = sdata->local;
 
 	switch (*param) {
+	case PRISM2_PARAM_EAPOL:
+		*param = sdata->eapol;
+		break;
 	case PRISM2_PARAM_IEEE_802_1X:
 		*param = sdata->ieee802_1x;
 		break;
