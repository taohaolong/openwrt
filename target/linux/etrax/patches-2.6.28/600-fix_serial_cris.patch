Index: linux-2.6.28.9/drivers/serial/crisv10.c
===================================================================
--- linux-2.6.28.9.orig/drivers/serial/crisv10.c	2009-04-08 16:47:06.000000000 +0200
+++ linux-2.6.28.9/drivers/serial/crisv10.c	2009-04-08 16:47:27.000000000 +0200
@@ -28,6 +28,7 @@
 #include <linux/mutex.h>
 #include <linux/bitops.h>
 #include <linux/device.h>
+#include <linux/proc_fs.h>
 
 #include <asm/io.h>
 #include <asm/irq.h>
@@ -4389,7 +4390,6 @@
 	.break_ctl = rs_break,
 	.send_xchar = rs_send_xchar,
 	.wait_until_sent = rs_wait_until_sent,
-	.read_proc = rs_read_proc,
 	.tiocmget = rs_tiocmget,
 	.tiocmset = rs_tiocmset
 };
@@ -4455,7 +4455,7 @@
 	if (tty_register_driver(driver))
 		panic("Couldn't register serial driver\n");
 	/* do some initializing for the separate ports */
-
+	driver->proc_entry->read_proc = rs_read_proc;
 	for (i = 0, info = rs_table; i < NR_PORTS; i++,info++) {
 		if (info->enabled) {
 			if (cris_request_io_interface(info->io_if,
