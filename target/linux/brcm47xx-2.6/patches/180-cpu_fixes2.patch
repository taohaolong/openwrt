--- linux-2.6.21.1/arch/mips/bcm947xx/irq.c.orig	2007-05-18 21:27:17.000000000 +0100
+++ linux-2.6.21.1/arch/mips/bcm947xx/irq.c	2007-05-24 23:25:38.000000000 +0100
@@ -59,5 +59,5 @@
 
 void __init arch_init_irq(void)
 {
-	mips_cpu_irq_init(0);
+	mips_cpu_irq_init();
 }
--- linux-2.6.21.1/arch/mips/bcm947xx/prom.c.orig	2007-05-18 21:27:17.000000000 +0100
+++ linux-2.6.21.1/arch/mips/bcm947xx/prom.c	2007-05-24 23:46:06.000000000 +0100
@@ -56,7 +56,6 @@
 	add_memory_region(0, mem, BOOT_MEM_RAM);
 }
 
-unsigned long __init prom_free_prom_memory(void)
+void __init prom_free_prom_memory(void)
 {
-	return 0;
 }
--- linux-2.6.21.1/drivers/mtd/maps/bcm47xx-flash.c.orig	2007-05-18 21:27:17.000000000 +0100
+++ linux-2.6.21.1/drivers/mtd/maps/bcm47xx-flash.c	2007-05-25 00:22:18.000000000 +0100
@@ -40,6 +40,7 @@
 #include <linux/module.h>
 #include <linux/types.h>
 #include <linux/kernel.h>
+#include <linux/sched.h>
 #include <linux/wait.h>
 #include <linux/mtd/mtd.h>
 #include <linux/mtd/map.h>
